<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Ñ–†–î–† PRO - –û–±'—î–¥–Ω–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞</title>
    <style>
        :root {
            --primary: #1e40af;
            --secondary: #3730a3;
            --success: #059669;
            --danger: #dc2626;
            --warning: #d97706;
            --dark: #1f2937;
            --light: #f8fafc;
            --gunp-color: #1e40af;
            --sbu-color: #dc2626;
            --prosecutor-color: #7c2d12;
            --admin-color: #7e22ce;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(30, 64, 175, 0.9);
            backdrop-filter: blur(20px);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            text-align: center;
        }

        .agency-selector {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .agency-card {
            background: rgba(30, 41, 59, 0.8);
            padding: 30px;
            border-radius: 20px;
            border: 2px solid rgba(255,255,255,0.1);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .agency-card:hover {
            transform: translateY(-5px);
        }

        .agency-card.gunp {
            border-color: var(--gunp-color);
        }

        .agency-card.sbu {
            border-color: var(--sbu-color);
        }

        .agency-card.prosecutor {
            border-color: var(--prosecutor-color);
        }

        .agency-card.admin {
            border-color: var(--admin-color);
        }

        .agency-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .admin-panel {
            display: none;
            background: rgba(30, 41, 59, 0.95);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 25px;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: 800;
            margin-bottom: 5px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 25px;
        }

        .table th, .table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .table th {
            color: #94a3b8;
            font-weight: 600;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-sbu {
            background: var(--sbu-color);
            color: white;
        }

        .btn-prosecutor {
            background: var(--prosecutor-color);
            color: white;
        }

        .btn-admin {
            background: var(--admin-color);
            color: white;
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .badge-success { background: var(--success); }
        .badge-warning { background: var(--warning); }
        .badge-danger { background: var(--danger); }
        .badge-primary { background: var(--primary); }
        .badge-admin { background: var(--admin-color); }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: rgba(30, 41, 59, 0.95);
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            border: 1px solid rgba(255,255,255,0.1);
            max-height: 90vh;
            overflow-y: auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #e2e8f0;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            color: white;
            font-size: 14px;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        .agency-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
            margin: 2px;
        }

        .badge-gunp { background: var(--gunp-color); }
        .badge-sbu { background: var(--sbu-color); }
        .badge-prosecutor { background: var(--prosecutor-color); }
        .badge-admin { background: var(--admin-color); }

        .password-field {
            position: relative;
        }

        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #94a3b8;
            cursor: pointer;
        }

        .user-info {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .test-credentials {
            background: rgba(30, 64, 175, 0.2);
            border: 1px solid var(--primary);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            font-size: 0.8em;
        }

        .password-list {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 10px;
        }

        .password-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-family: 'Courier New', monospace;
            font-size: 0.8em;
        }

        .admin-section {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 15px;
        }

        .admin-tab {
            padding: 10px 20px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-tab.active {
            background: var(--admin-color);
        }

        .user-management {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .case-actions {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .case-status-new { background: #3b82f6; }
        .case-status-in-progress { background: #f59e0b; }
        .case-status-completed { background: #10b981; }
        .case-status-closed { background: #6b7280; }

        .cases-section {
            margin-top: 30px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .logs-section {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            max-height: 500px;
            overflow-y: auto;
        }

        .log-item {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .log-item:hover {
            background: rgba(255,255,255,0.05);
        }

        .log-info {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .log-meta {
            display: flex;
            gap: 15px;
            font-size: 0.8em;
            color: #94a3b8;
        }

        .log-action {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .log-details {
            color: #cbd5e1;
            font-size: 0.9em;
        }

        .log-ip {
            font-family: 'Courier New', monospace;
            background: rgba(255,255,255,0.1);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .log-filters {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .filter-select {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 8px 12px;
            color: white;
            font-size: 14px;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            z-index: 1001;
            display: none;
        }

        .log-type-login { border-left: 4px solid #10b981; }
        .log-type-create { border-left: 4px solid #3b82f6; }
        .log-type-delete { border-left: 4px solid #dc2626; }
        .log-type-export { border-left: 4px solid #f59e0b; }
        .log-type-view { border-left: 4px solid #8b5cf6; }
        .log-type-system { border-left: 4px solid #6b7280; }

        @media (max-width: 768px) {
            .agency-selector {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .container {
                padding: 10px;
            }
            
            .user-management {
                grid-template-columns: 1fr;
            }
            
            .case-actions {
                flex-direction: column;
            }
            
            .section-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .log-filters {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="notification" id="notification"></div>

    <div class="container">
        <header class="header">
            <h1 style="font-size: 2.5em; margin-bottom: 10px;">üõ°Ô∏è –Ñ–†–î–† PRO</h1>
            <p style="color: #cbd5e1; font-size: 1.1em;">–û–±'—î–¥–Ω–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–∑—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è–º–∏</p>
            <div style="background: var(--danger); color: white; padding: 8px 15px; border-radius: 20px; display: inline-block; margin-top: 10px; font-weight: bold;">
                üîí –ó–ê–°–ï–ö–†–ï–ß–ï–ù–û
            </div>
        </header>

        <div class="agency-selector">
            <div class="agency-card gunp" onclick="selectAgency('gunp')">
                <div class="agency-icon">üëÆ‚Äç‚ôÇÔ∏è</div>
                <h3>–ì–£–ù–ü</h3>
                <p>–ì–æ–ª–æ–≤–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—ó –ø–æ–ª—ñ—Ü—ñ—ó</p>
            </div>
            
            <div class="agency-card sbu" onclick="selectAgency('sbu')">
                <div class="agency-icon">üïµÔ∏è‚Äç‚ôÇÔ∏è</div>
                <h3>–°–ë–£</h3>
                <p>–°–ª—É–∂–±–∞ –ë–µ–∑–ø–µ–∫–∏ –£–∫—Ä–∞—ó–Ω–∏</p>
            </div>
            
            <div class="agency-card prosecutor" onclick="selectAgency('prosecutor')">
                <div class="agency-icon">‚öñÔ∏è</div>
                <h3>–ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞</h3>
                <p>–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ –£–∫—Ä–∞—ó–Ω–∏</p>
            </div>
            
            <div class="agency-card admin" onclick="selectAgency('admin')">
                <div class="agency-icon">üë®‚Äçüíº</div>
                <h3>–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å</h3>
                <p>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–æ—é</p>
            </div>
        </div>

        <!-- –ì–£–ù–ü Admin Panel -->
        <div id="gunp-panel" class="admin-panel">
            <div class="admin-header">
                <div>
                    <h2>üëÆ‚Äç‚ôÇÔ∏è –ì–£–ù–ü - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</h2>
                    <p style="color: #cbd5e1;">–ì–æ–ª–æ–≤–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—ó –ø–æ–ª—ñ—Ü—ñ—ó</p>
                </div>
                <button class="btn btn-primary" onclick="logout()">–í–∏–π—Ç–∏</button>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="gunp-total-cases">0</div>
                    <div>–í—Å—å–æ–≥–æ —Å–ø—Ä–∞–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="gunp-active-cases">0</div>
                    <div>–ê–∫—Ç–∏–≤–Ω–∏—Ö —Å–ø—Ä–∞–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="gunp-critical-cases">0</div>
                    <div>–ö—Ä–∏—Ç–∏—á–Ω–∏—Ö —Å–ø—Ä–∞–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">24</div>
                    <div>–°–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤</div>
                </div>
            </div>

            <div class="section-header">
                <h3>–ö—Ä–∏–º—ñ–Ω–∞–ª—å–Ω—ñ —Å–ø—Ä–∞–≤–∏</h3>
                <button class="btn btn-primary" onclick="showAddCaseModal()">‚ûï –î–æ–¥–∞—Ç–∏ —Å–ø—Ä–∞–≤—É</button>
            </div>

            <table class="table">
                <thead>
                    <tr>
                        <th>‚Ññ —Å–ø—Ä–∞–≤–∏</th>
                        <th>–ù–∞–∑–≤–∞</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                        <th>–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è</th>
                        <th>–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π</th>
                        <th>–î—ñ—ó</th>
                    </tr>
                </thead>
                <tbody id="gunp-cases-table">
                    <!-- Cases will be loaded here -->
                </tbody>
            </table>

            <h3>–°–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∏ –ì–£–ù–ü</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th>–°–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫</th>
                        <th>–ü–æ—Å–∞–¥–∞</th>
                        <th>–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>–ö–æ–≤–∞–ª–µ–Ω–∫–æ –Ü.–ü.</td>
                        <td>–ù–∞—á–∞–ª—å–Ω–∏–∫ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</td>
                        <td>–ö—Ä–∏–º—ñ–Ω–∞–ª—å–Ω–∞ –ø–æ–ª—ñ—Ü—ñ—è</td>
                        <td><span class="badge badge-success">–ê–∫—Ç–∏–≤–Ω–∏–π</span></td>
                    </tr>
                    <tr>
                        <td>–ü–µ—Ç—Ä–µ–Ω–∫–æ –û.–í.</td>
                        <td>–ó–∞—Å—Ç—É–ø–Ω–∏–∫ –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞</td>
                        <td>–°–ª—ñ–¥—á–∏–π –≤—ñ–¥–¥—ñ–ª</td>
                        <td><span class="badge badge-success">–ê–∫—Ç–∏–≤–Ω–∏–π</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- –°–ë–£ Admin Panel -->
        <div id="sbu-panel" class="admin-panel">
            <div class="admin-header">
                <div>
                    <h2>üïµÔ∏è‚Äç‚ôÇÔ∏è –°–ë–£ - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</h2>
                    <p style="color: #cbd5e1;">–°–ª—É–∂–±–∞ –ë–µ–∑–ø–µ–∫–∏ –£–∫—Ä–∞—ó–Ω–∏</p>
                </div>
                <button class="btn btn-sbu" onclick="logout()">–í–∏–π—Ç–∏</button>
            </div>

            <div class="stats-grid">
                <div class="stat-card" style="background: linear-gradient(135deg, var(--sbu-color), #b91c1c);">
                    <div class="stat-number" id="sbu-total-cases">0</div>
                    <div>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏—Ö —Å–ø—Ä–∞–≤</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, var(--sbu-color), #b91c1c);">
                    <div class="stat-number" id="sbu-active-cases">0</div>
                    <div>–ê–∫—Ç–∏–≤–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, var(--sbu-color), #b91c1c);">
                    <div class="stat-number" id="sbu-critical-cases">0</div>
                    <div>–ö–æ–Ω—Ç—Ä—Ä–æ–∑–≤—ñ–¥—É–≤–∞–ª—å–Ω–∏—Ö —Å–ø—Ä–∞–≤</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, var(--sbu-color), #b91c1c);">
                    <div class="stat-number">18</div>
                    <div>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤</div>
                </div>
            </div>

            <div class="section-header">
                <h3>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ñ —Å–ø—Ä–∞–≤–∏</h3>
                <button class="btn btn-sbu" onclick="showAddCaseModal()">‚ûï –î–æ–¥–∞—Ç–∏ —Å–ø—Ä–∞–≤—É</button>
            </div>

            <table class="table">
                <thead>
                    <tr>
                        <th>‚Ññ —Å–ø—Ä–∞–≤–∏</th>
                        <th>–ù–∞–∑–≤–∞</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                        <th>–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è</th>
                        <th>–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π</th>
                        <th>–î—ñ—ó</th>
                    </tr>
                </thead>
                <tbody id="sbu-cases-table">
                    <!-- Cases will be loaded here -->
                </tbody>
            </table>

            <h3>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–π —Å–∫–ª–∞–¥ –°–ë–£</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–∫</th>
                        <th>–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª</th>
                        <th>–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è</th>
                        <th>–†—ñ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø—É</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>–ú–µ–ª—å–Ω–∏–∫ –ê.–í.</td>
                        <td>–ö–æ–Ω—Ç—Ä—Ä–æ–∑–≤—ñ–¥–∫–∞</td>
                        <td>–ù–∞—á–∞–ª—å–Ω–∏–∫ –≤—ñ–¥–¥—ñ–ª—É</td>
                        <td><span class="badge badge-danger">TOP SECRET</span></td>
                    </tr>
                    <tr>
                        <td>–ö–æ–≤–∞–ª—å—á—É–∫ –°.–ú.</td>
                        <td>–ë–æ—Ä–æ—Ç—å–±–∞ –∑ —Ç–µ—Ä–æ—Ä–∏–∑–º–æ–º</td>
                        <td>–°—Ç–∞—Ä—à–∏–π –æ–ø–µ—Ä—É–ø–æ–≤–Ω–æ–≤–∞–∂–µ–Ω–∏–π</td>
                        <td><span class="badge badge-warning">SECRET</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- –ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ Admin Panel -->
        <div id="prosecutor-panel" class="admin-panel">
            <div class="admin-header">
                <div>
                    <h2>‚öñÔ∏è –ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</h2>
                    <p style="color: #cbd5e1;">–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ –£–∫—Ä–∞—ó–Ω–∏</p>
                </div>
                <button class="btn btn-prosecutor" onclick="logout()">–í–∏–π—Ç–∏</button>
            </div>

            <div class="stats-grid">
                <div class="stat-card" style="background: linear-gradient(135deg, var(--prosecutor-color), #9a3412);">
                    <div class="stat-number" id="proc-total-cases">0</div>
                    <div>–°—É–ø—Ä–æ–≤–æ–¥–∂—É–≤–∞–Ω–∏—Ö —Å–ø—Ä–∞–≤</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, var(--prosecutor-color), #9a3412);">
                    <div class="stat-number" id="proc-active-cases">0</div>
                    <div>–°–ø—Ä–∞–≤ –≤ —Å—É–¥—ñ</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, var(--prosecutor-color), #9a3412);">
                    <div class="stat-number" id="proc-critical-cases">0</div>
                    <div>–ù–∞–≥–ª—è–¥–æ–≤–∏—Ö –ø—Ä–æ–≤–∞–¥–∂–µ–Ω—å</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, var(--prosecutor-color), #9a3412);">
                    <div class="stat-number">12</div>
                    <div>–ü—Ä–æ–∫—É—Ä–æ—Ä—ñ–≤</div>
                </div>
            </div>

            <div class="section-header">
                <h3>–°–ø—Ä–∞–≤–∏ –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∏</h3>
                <button class="btn btn-prosecutor" onclick="showAddCaseModal()">‚ûï –î–æ–¥–∞—Ç–∏ —Å–ø—Ä–∞–≤—É</button>
            </div>

            <table class="table">
                <thead>
                    <tr>
                        <th>‚Ññ —Å–ø—Ä–∞–≤–∏</th>
                        <th>–ù–∞–∑–≤–∞</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                        <th>–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è</th>
                        <th>–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π –ø—Ä–æ–∫—É—Ä–æ—Ä</th>
                        <th>–î—ñ—ó</th>
                    </tr>
                </thead>
                <tbody id="prosecutor-cases-table">
                    <!-- Cases will be loaded here -->
                </tbody>
            </table>

            <h3>–ü—Ä–æ–∫—É—Ä–æ—Ä–∏</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th>–ü—Ä–æ–∫—É—Ä–æ—Ä</th>
                        <th>–ü–æ—Å–∞–¥–∞</th>
                        <th>–í—ñ–¥–¥—ñ–ª</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>–í—ñ—Å–∫–∞—Ä –ú.–ú.</td>
                        <td>–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∏–π –ø—Ä–æ–∫—É—Ä–æ—Ä</td>
                        <td>–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞</td>
                        <td><span class="badge badge-success">–ê–∫—Ç–∏–≤–Ω–∏–π</span></td>
                    </tr>
                    <tr>
                        <td>–ö—É–ª–µ–±—è–∫–∞ –ê.–ê.</td>
                        <td>–°—Ç–∞—Ä—à–∏–π –ø—Ä–æ–∫—É—Ä–æ—Ä</td>
                        <td>–í—ñ–¥–¥—ñ–ª –∫—Ä–∏–º—ñ–Ω–∞–ª—å–Ω–∏—Ö —Å–ø—Ä–∞–≤</td>
                        <td><span class="badge badge-success">–ê–∫—Ç–∏–≤–Ω–∏–π</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å -->
        <div id="admin-panel" class="admin-panel">
            <div class="admin-header">
                <div>
                    <h2>üë®‚Äçüíº –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å</h2>
                    <p style="color: #cbd5e1;">–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–æ—é —Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏</p>
                </div>
                <button class="btn btn-admin" onclick="logout()">–í–∏–π—Ç–∏</button>
            </div>

            <div class="admin-tabs">
                <button class="admin-tab active" onclick="showAdminTab('users')">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</button>
                <button class="admin-tab" onclick="showAdminTab('system')">–°–∏—Å—Ç–µ–º–∞</button>
                <button class="admin-tab" onclick="showAdminTab('logs')">–õ–æ–≥–∏</button>
                <button class="admin-tab" onclick="showAdminTab('backup')">–†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è</button>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ -->
            <div id="admin-users" class="admin-section">
                <h3>üìä –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏</h3>
                <div class="stats-grid">
                    <div class="stat-card" style="background: linear-gradient(135deg, var(--admin-color), #6b21a8);">
                        <div class="stat-number" id="total-users">24</div>
                        <div>–í—Å—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, var(--admin-color), #6b21a8);">
                        <div class="stat-number" id="active-users">24</div>
                        <div>–ê–∫—Ç–∏–≤–Ω–∏—Ö</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, var(--admin-color), #6b21a8);">
                        <div class="stat-number">3</div>
                        <div>–í—ñ–¥–æ–º—Å—Ç–≤–∞</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, var(--admin-color), #6b21a8);">
                        <div class="stat-number">8</div>
                        <div>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –Ω–∞ –≤—ñ–¥–æ–º—Å—Ç–≤–æ</div>
                    </div>
                </div>

                <div class="user-management">
                    <div>
                        <h4>üëÆ‚Äç‚ôÇÔ∏è –ì–£–ù–ü - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</h4>
                        <div class="password-list">
                            <div class="password-item">
                                <span>gunp_admin</span>
                                <span>BlueDragon2024</span>
                            </div>
                            <div class="password-item">
                                <span>gunp_director</span>
                                <span>PoliceGuard987</span>
                            </div>
                            <div class="password-item">
                                <span>gunp_deputy</span>
                                <span>SecureBase555</span>
                            </div>
                            <div class="password-item">
                                <span>gunp_senior</span>
                                <span>Investigator777</span>
                            </div>
                            <div class="password-item">
                                <span>gunp_invest</span>
                                <span>CrimeHunter333</span>
                            </div>
                            <div class="password-item">
                                <span>gunp_oper</span>
                                <span>PatrolAgent111</span>
                            </div>
                            <div class="password-item">
                                <span>gunp_analyst</span>
                                <span>DataAnalyzer999</span>
                            </div>
                            <div class="password-item">
                                <span>gunp_tech</span>
                                <span>TechSupport444</span>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4>üïµÔ∏è‚Äç‚ôÇÔ∏è –°–ë–£ - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</h4>
                        <div class="password-list">
                            <div class="password-item">
                                <span>sbu_admin</span>
                                <span>RedShadow2024</span>
                            </div>
                            <div class="password-item">
                                <span>sbu_counter</span>
                                <span>CounterSpy789</span>
                            </div>
                            <div class="password-item">
                                <span>sbu_senior</span>
                                <span>SecretAgent456</span>
                            </div>
                            <div class="password-item">
                                <span>sbu_oper</span>
                                <span>UnderCover123</span>
                            </div>
                            <div class="password-item">
                                <span>sbu_cyber</span>
                                <span>CyberShield321</span>
                            </div>
                            <div class="password-item">
                                <span>sbu_analyst</span>
                                <span>IntelMaster654</span>
                            </div>
                            <div class="password-item">
                                <span>sbu_security</span>
                                <span>SafeGuard987</span>
                            </div>
                            <div class="password-item">
                                <span>sbu_tech</span>
                                <span>TechWizard555</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <h4>‚öñÔ∏è –ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</h4>
                    <div class="password-list">
                        <div class="password-item">
                            <span>proc_admin</span>
                            <span>GoldScale2024</span>
                        </div>
                        <div class="password-item">
                            <span>proc_general</span>
                            <span>JusticeLord777</span>
                        </div>
                        <div class="password-item">
                            <span>proc_deputy</span>
                            <span>LawMaster888</span>
                        </div>
                        <div class="password-item">
                            <span>proc_senior</span>
                            <span>SeniorLaw555</span>
                        </div>
                        <div class="password-item">
                            <span>proc_dept</span>
                            <span>DeptChief333</span>
                        </div>
                        <div class="password-item">
                            <span>proc_assist</span>
                            <span>LegalAid111</span>
                        </div>
                        <div class="password-item">
                            <span>proc_criminal</span>
                            <span>CrimeLaw222</span>
                        </div>
                        <div class="password-item">
                            <span>proc_super</span>
                            <span>Supervisor999</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –°–∏—Å—Ç–µ–º–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è -->
            <div id="admin-system" class="admin-section" style="display: none;">
                <h3>‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h3>
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞ —Å–∏—Å—Ç–µ–º–∏</label>
                    <input type="text" class="form-control" value="–Ñ–†–î–† PRO" readonly>
                </div>
                <div class="form-group">
                    <label>–í–µ—Ä—Å—ñ—è —Å–∏—Å—Ç–µ–º–∏</label>
                    <input type="text" class="form-control" value="2.4.1" readonly>
                </div>
                <div class="form-group">
                    <label>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏</label>
                    <div>
                        <span class="badge badge-success">–ê–∫—Ç–∏–≤–Ω–∞</span>
                        <span style="margin-left: 10px; color: #94a3b8;">–í—Å—ñ —Å–ª—É–∂–±–∏ –ø—Ä–∞—Ü—é—é—Ç—å —à—Ç–∞—Ç–Ω–æ</span>
                    </div>
                </div>
                <button class="btn btn-admin">–ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
            </div>

            <!-- –õ–æ–≥–∏ -->
            <div id="admin-logs" class="admin-section" style="display: none;">
                <h3>üìã –ñ—É—Ä–Ω–∞–ª –ø–æ–¥—ñ–π</h3>
                
                <div class="log-filters">
                    <select class="filter-select" id="log-type-filter" onchange="filterLogs('type', this.value)">
                        <option value="">–í—Å—ñ —Ç–∏–ø–∏</option>
                        <option value="login">–í—Ö–æ–¥–∏</option>
                        <option value="create">–°—Ç–≤–æ—Ä–µ–Ω–Ω—è</option>
                        <option value="delete">–í–∏–¥–∞–ª–µ–Ω–Ω—è</option>
                        <option value="export">–ï–∫—Å–ø–æ—Ä—Ç</option>
                    </select>
                    <select class="filter-select" id="log-user-filter" onchange="filterLogs('user', this.value)">
                        <option value="">–í—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</option>
                    </select>
                    <select class="filter-select" id="log-agency-filter" onchange="filterLogs('agency', this.value)">
                        <option value="">–í—Å—ñ –≤—ñ–¥–æ–º—Å—Ç–≤–∞</option>
                        <option value="gunp">–ì–£–ù–ü</option>
                        <option value="sbu">–°–ë–£</option>
                        <option value="prosecutor">–ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞</option>
                    </select>
                    <button class="btn btn-success" onclick="exportAllLogs()">–ï–∫—Å–ø–æ—Ä—Ç –ª–æ–≥—ñ–≤</button>
                </div>

                <div class="logs-section">
                    <div id="logs-container">
                        <!-- –õ–æ–≥–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                    </div>
                </div>
            </div>

            <!-- –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è -->
            <div id="admin-backup" class="admin-section" style="display: none;">
                <h3>üíæ –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è</h3>
                <div class="stats-grid">
                    <div class="stat-card" style="background: linear-gradient(135deg, var(--success), #047857);">
                        <div class="stat-number">156</div>
                        <div>–°–ø—Ä–∞–≤ –≤ –±–∞–∑—ñ</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, var(--success), #047857);">
                        <div class="stat-number">24</div>
                        <div>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, var(--success), #047857);">
                        <div class="stat-number">89</div>
                        <div>–õ–æ–≥—ñ–≤ –∑–∞ –¥–µ–Ω—å</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, var(--success), #047857);">
                        <div class="stat-number">2.4 GB</div>
                        <div>–†–æ–∑–º—ñ—Ä –±–∞–∑–∏</div>
                    </div>
                </div>
                <button class="btn btn-success" style="margin-right: 10px;">–°—Ç–≤–æ—Ä–∏—Ç–∏ –±–µ–∫–∞–ø</button>
                <button class="btn btn-primary">–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∑ –±–µ–∫–∞–ø—É</button>
            </div>
        </div>

        <!-- Login Modal -->
        <div class="modal" id="loginModal">
            <div class="modal-content">
                <h2 style="margin-bottom: 20px; text-align: center;">üîê –í—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
                
                <div class="user-info">
                    <div class="user-avatar" id="modal-avatar">?</div>
                    <div>
                        <div style="font-weight: 600;" id="modal-agency-name">–û–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–æ–º—Å—Ç–≤–æ</div>
                        <div style="color: #94a3b8; font-size: 0.9em;" id="modal-agency-desc">–î–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–∞–Ω–µ–ª—ñ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>üë§ –õ–æ–≥—ñ–Ω</label>
                    <input type="text" class="form-control" id="loginUsername" placeholder="–í–≤–µ–¥—ñ—Ç—å –ª–æ–≥—ñ–Ω" autocomplete="off">
                </div>
                
                <div class="form-group">
                    <label>üîë –ü–∞—Ä–æ–ª—å</label>
                    <div class="password-field">
                        <input type="password" class="form-control" id="loginPassword" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" autocomplete="off">
                        <button type="button" class="toggle-password" onclick="togglePassword()">üëÅÔ∏è</button>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button class="btn" onclick="closeLoginModal()" style="flex: 1;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                    <button class="btn btn-primary" onclick="login()" style="flex: 2;">–£–≤—ñ–π—Ç–∏</button>
                </div>
                
                <div class="test-credentials">
                    <h4>üîì –¢–µ—Å—Ç–æ–≤—ñ –¥–æ—Å—Ç—É–ø—ã –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:</h4>
                    <div class="password-list" id="passwordList">
                        <!-- –ü–∞—Ä–æ–ª—ñ –±—É–¥—É—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ç—É—Ç -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Case Modal -->
        <div class="modal" id="addCaseModal">
            <div class="modal-content">
                <h2 style="margin-bottom: 20px; text-align: center;">‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Å–ø—Ä–∞–≤—É</h2>
                
                <div class="form-group">
                    <label>üìã –ù–∞–∑–≤–∞ —Å–ø—Ä–∞–≤–∏</label>
                    <input type="text" class="form-control" id="caseTitle" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Å–ø—Ä–∞–≤–∏">
                </div>
                
                <div class="form-group">
                    <label>üìù –û–ø–∏—Å —Å–ø—Ä–∞–≤–∏</label>
                    <textarea class="form-control" id="caseDescription" placeholder="–î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Å–ø—Ä–∞–≤–∏"></textarea>
                </div>
                
                <div class="form-group">
                    <label>üî¢ –ù–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∏</label>
                    <input type="text" class="form-control" id="caseNumber" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: 420/2024">
                </div>
                
                <div class="form-group">
                    <label>üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label>
                    <select class="form-control" id="caseCategory">
                        <option value="criminal">–ö—Ä–∏–º—ñ–Ω–∞–ª—å–Ω–∞ —Å–ø—Ä–∞–≤–∞</option>
                        <option value="operational">–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ —Å–ø—Ä–∞–≤–∞</option>
                        <option value="supervision">–ù–∞–≥–ª—è–¥–æ–≤–∞ —Å–ø—Ä–∞–≤–∞</option>
                        <option value="investigation">–†–æ–∑—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>‚ö†Ô∏è –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç</label>
                    <select class="form-control" id="casePriority">
                        <option value="low">–ù–∏–∑—å–∫–∏–π</option>
                        <option value="medium">–°–µ—Ä–µ–¥–Ω—ñ–π</option>
                        <option value="high">–í–∏—Å–æ–∫–∏–π</option>
                        <option value="critical">–ö—Ä–∏—Ç–∏—á–Ω–∏–π</option>
                    </select>
                </div>

                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button class="btn" onclick="closeAddCaseModal()" style="flex: 1;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                    <button class="btn btn-success" onclick="addNewCase()" style="flex: 2;">–î–æ–¥–∞—Ç–∏ —Å–ø—Ä–∞–≤—É</button>
                </div>
            </div>
        </div>

        <!-- Prosecutor Confirm Modal -->
        <div class="modal" id="prosecutorConfirmModal">
            <div class="modal-content">
                <h2 style="margin-bottom: 20px; text-align: center;">‚öñÔ∏è –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è</h2>
                
                <div style="background: rgba(124, 45, 18, 0.3); border: 1px solid var(--prosecutor-color); border-radius: 10px; padding: 20px; margin-bottom: 20px;">
                    <h4>üîê –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø—Ä–æ–∫—É—Ä–æ—Ä–∞</h4>
                    <p style="margin-bottom: 15px; color: #cbd5e1;">–î–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–ø—Ä–∞–≤–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø—Ä–æ–∫—É—Ä–æ—Ä–∞</p>
                    
                    <div class="form-group">
                        <label>üë§ –õ–æ–≥—ñ–Ω –ø—Ä–æ–∫—É—Ä–æ—Ä–∞</label>
                        <input type="text" class="form-control" id="prosecutorUsername" placeholder="–í–≤–µ–¥—ñ—Ç—å –ª–æ–≥—ñ–Ω –ø—Ä–æ–∫—É—Ä–æ—Ä–∞">
                    </div>
                    
                    <div class="form-group">
                        <label>üîë –ü–∞—Ä–æ–ª—å –ø—Ä–æ–∫—É—Ä–æ—Ä–∞</label>
                        <div class="password-field">
                            <input type="password" class="form-control" id="prosecutorPassword" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –ø—Ä–æ–∫—É—Ä–æ—Ä–∞">
                            <button type="button" class="toggle-password" onclick="toggleProsecutorPassword()">üëÅÔ∏è</button>
                        </div>
                    </div>
                </div>

                <div id="caseToDeleteInfo" style="background: rgba(220, 38, 38, 0.2); border-radius: 10px; padding: 15px; margin: 15px 0;">
                    <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Å–ø—Ä–∞–≤—É –±—É–¥–µ —Ç—É—Ç -->
                </div>

                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button class="btn" onclick="closeProsecutorConfirmModal()" style="flex: 1;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                    <button class="btn btn-danger" onclick="confirmCaseDeletion()" style="flex: 2;">üóëÔ∏è –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // üîê 24 –ê–ë–°–û–õ–Æ–¢–ù–û –†–Ü–ó–ù–ò–• –ü–ê–†–û–õ–Ø
        const USERS = {
            gunp: [
                { username: "gunp_admin", password: "BlueDragon2024", name: "–ö–æ–≤–∞–ª–µ–Ω–∫–æ –Ü.–ü.", position: "–ì–æ–ª–æ–≤–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –ì–£–ù–ü" },
                { username: "gunp_director", password: "PoliceGuard987", name: "–ü–µ—Ç—Ä–µ–Ω–∫–æ –û.–í.", position: "–ù–∞—á–∞–ª—å–Ω–∏–∫ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è" },
                { username: "gunp_deputy", password: "SecureBase555", name: "–®–µ–≤—á–µ–Ω–∫–æ –ú.–Ü.", position: "–ó–∞—Å—Ç—É–ø–Ω–∏–∫ –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞" },
                { username: "gunp_senior", password: "Investigator777", name: "–ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ –°.–ü.", position: "–°—Ç–∞—Ä—à–∏–π —Å–ª—ñ–¥—á–∏–π" },
                { username: "gunp_invest", password: "CrimeHunter333", name: "–°–∏–¥–æ—Ä–µ–Ω–∫–æ –í.–ü.", position: "–°–ª—ñ–¥—á–∏–π" },
                { username: "gunp_oper", password: "PatrolAgent111", name: "–ö—Ä–∞–≤—á–µ–Ω–∫–æ –ê.–ú.", position: "–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–∫" },
                { username: "gunp_analyst", password: "DataAnalyzer999", name: "–ü–∞–≤–ª–µ–Ω–∫–æ –Ü.–í.", position: "–ê–Ω–∞–ª—ñ—Ç–∏–∫" },
                { username: "gunp_tech", password: "TechSupport444", name: "–¢–∫–∞—á—É–∫ –†.–û.", position: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç" }
            ],
            sbu: [
                { username: "sbu_admin", password: "RedShadow2024", name: "–ú–µ–ª—å–Ω–∏–∫ –ê.–í.", position: "–ì–æ–ª–æ–≤–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –°–ë–£" },
                { username: "sbu_counter", password: "CounterSpy789", name: "–ö–æ–≤–∞–ª—å—á—É–∫ –°.–ú.", position: "–ù–∞—á–∞–ª—å–Ω–∏–∫ –∫–æ–Ω—Ç—Ä—Ä–æ–∑–≤—ñ–¥–∫–∏" },
                { username: "sbu_senior", password: "SecretAgent456", name: "–¢–∫–∞—á–µ–Ω–∫–æ –Ü.–ü.", position: "–°—Ç–∞—Ä—à–∏–π –æ–ø–µ—Ä—É–ø–æ–≤–Ω–æ–≤–∞–∂–µ–Ω–∏–π" },
                { username: "sbu_oper", password: "UnderCover123", name: "–õ–∏—Å–µ–Ω–∫–æ –û.–†.", position: "–û–ø–µ—Ä—É–ø–æ–≤–Ω–æ–≤–∞–∂–µ–Ω–∏–π" },
                { username: "sbu_cyber", password: "CyberShield321", name: "–®–µ–≤—á—É–∫ –ú.–°.", position: "–ö—ñ–±–µ—Ä—Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç" },
                { username: "sbu_analyst", password: "IntelMaster654", name: "–ë—ñ–ª–∏–π –í.–ü.", position: "–ê–Ω–∞–ª—ñ—Ç–∏–∫ —Ä–æ–∑–≤—ñ–¥–∫–∏" },
                { username: "sbu_security", password: "SafeGuard987", name: "–ß–æ—Ä–Ω–∏–π –û.–Ü.", position: "–°–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç –±–µ–∑–ø–µ–∫–∏" },
                { username: "sbu_tech", password: "TechWizard555", name: "–ó–µ–ª–µ–Ω—Å—å–∫–∏–π –ü.–ú.", position: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π –µ–∫—Å–ø–µ—Ä—Ç" }
            ],
            prosecutor: [
                { username: "proc_admin", password: "GoldScale2024", name: "–í—ñ—Å–∫–∞—Ä –ú.–ú.", position: "–ì–æ–ª–æ–≤–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∏" },
                { username: "proc_general", password: "JusticeLord777", name: "–ö—É–ª–µ–±—è–∫–∞ –ê.–ê.", position: "–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∏–π –ø—Ä–æ–∫—É—Ä–æ—Ä" },
                { username: "proc_deputy", password: "LawMaster888", name: "–ú–∞—Ä–∫—ñ—î–Ω–∫–æ –ú.–°.", position: "–ó–∞—Å—Ç—É–ø–Ω–∏–∫ –ø—Ä–æ–∫—É—Ä–æ—Ä–∞" },
                { username: "proc_senior", password: "SeniorLaw555", name: "–®–º–µ–ª–µ–≤ –ê.–Ñ.", position: "–°—Ç–∞—Ä—à–∏–π –ø—Ä–æ–∫—É—Ä–æ—Ä" },
                { username: "proc_dept", password: "DeptChief333", name: "–ü–µ—Ç—Ä–æ–≤ –ö.–û.", position: "–ü—Ä–æ–∫—É—Ä–æ—Ä –≤—ñ–¥–¥—ñ–ª—É" },
                { username: "proc_assist", password: "LegalAid111", name: "–Ü–≤–∞–Ω–æ–≤–∞ –õ.–ú.", position: "–ü–æ–º—ñ—á–Ω–∏–∫ –ø—Ä–æ–∫—É—Ä–æ—Ä–∞" },
                { username: "proc_criminal", password: "CrimeLaw222", name: "–°–µ–º–µ–Ω—é–∫ –í.–Ü.", position: "–ü—Ä–æ–∫—É—Ä–æ—Ä-–∫—Ä–∏–º—ñ–Ω–∞–ª—ñ—Å—Ç" },
                { username: "proc_super", password: "Supervisor999", name: "–ö–æ–∑–∞–∫ –†.–°.", position: "–°–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç –∑ –Ω–∞–≥–ª—è–¥—É" }
            ],
            admin: [
                { username: "system_admin", password: "MasterControl2024", name: "–°–∏—Å—Ç–µ–º–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä", position: "–ì–æ–ª–æ–≤–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä" }
            ]
        };

        // –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Å–ø—Ä–∞–≤
        let CASES_DATABASE = {
            gunp: [],
            sbu: [],
            prosecutor: []
        };

        // üî• –°–ò–°–¢–ï–ú–ê –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø
        const SYSTEM_LOGS = {
            logs: [],
            securityAlerts: []
        };

        // –¢–∏–ø—ã –ª–æ–≥–æ–≤
        const LOG_TYPES = {
            LOGIN: 'login',
            LOGOUT: 'logout',
            CREATE_CASE: 'create',
            DELETE_CASE: 'delete',
            VIEW_CASE: 'view',
            EXPORT_DATA: 'export',
            SYSTEM: 'system'
        };

        let currentAgency = null;
        let currentUser = null;
        let caseToDelete = null;

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ IP
        function generateRandomIP() {
            return `192.168.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`;
        }

        // –§—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        function logAction(type, action, details = {}, user = null, agency = null) {
            const logEntry = {
                id: Date.now() + Math.random(),
                timestamp: new Date().toISOString(),
                type: type,
                action: action,
                details: details,
                user: user || (currentUser ? currentUser.name : '–°–∏—Å—Ç–µ–º–∞'),
                username: user ? user.username : (currentUser ? currentUser.username : 'system'),
                agency: agency || currentAgency || 'system',
                ip: generateRandomIP(),
                userAgent: navigator.userAgent
            };

            SYSTEM_LOGS.logs.unshift(logEntry);
            saveLogsToStorage();

            // –û–±–Ω–æ–≤–ª—è–µ–º UI –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞ –ø–∞–Ω–µ–ª—å –ª–æ–≥–æ–≤
            if (document.getElementById('admin-logs').style.display !== 'none') {
                renderLogs();
            }

            console.log(`üìù LOG [${type}]: ${action}`, logEntry);
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤
        function saveLogsToStorage() {
            try {
                localStorage.setItem('erdr_system_logs', JSON.stringify(SYSTEM_LOGS.logs.slice(0, 1000)));
            } catch (e) {
                console.error('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ª–æ–≥—ñ–≤:', e);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ–≤
        function loadLogsFromStorage() {
            try {
                const savedLogs = localStorage.getItem('erdr_system_logs');
                if (savedLogs) {
                    SYSTEM_LOGS.logs = JSON.parse(savedLogs);
                }
            } catch (e) {
                console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–≥—ñ–≤:', e);
            }
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
        function renderLogs(filteredLogs = null) {
            const logsToRender = filteredLogs || SYSTEM_LOGS.logs;
            const container = document.getElementById('logs-container');
            
            container.innerHTML = logsToRender.map(log => `
                <div class="log-item log-type-${log.type}">
                    <div class="log-info">
                        <div class="log-action">${getLogActionText(log)}</div>
                        <div class="log-details">${getLogDetailsText(log)}</div>
                        <div class="log-meta">
                            <span>üë§ ${log.user}</span>
                            <span>üè¢ ${getAgencyName(log.agency)}</span>
                            <span>üåê <span class="log-ip">${log.ip}</span></span>
                            <span>üïí ${new Date(log.timestamp).toLocaleString('uk-UA')}</span>
                        </div>
                    </div>
                    <div class="badge badge-${getLogStatusColor(log)}">${getLogTypeText(log.type)}</div>
                </div>
            `).join('');

            populateUserFilter();
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ª–æ–≥–æ–≤
        function getLogActionText(log) {
            const actions = {
                [LOG_TYPES.LOGIN]: `–í—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É`,
                [LOG_TYPES.LOGOUT]: `–í–∏—Ö—ñ–¥ –∑ —Å–∏—Å—Ç–µ–º–∏`,
                [LOG_TYPES.CREATE_CASE]: `–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø—Ä–∞–≤–∏`,
                [LOG_TYPES.DELETE_CASE]: `–í–∏–¥–∞–ª–µ–Ω–Ω—è —Å–ø—Ä–∞–≤–∏`,
                [LOG_TYPES.VIEW_CASE]: `–ü–µ—Ä–µ–≥–ª—è–¥ —Å–ø—Ä–∞–≤–∏`,
                [LOG_TYPES.EXPORT_DATA]: `–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö`,
                [LOG_TYPES.SYSTEM]: `–°–∏—Å—Ç–µ–º–Ω–∞ –ø–æ–¥—ñ—è`
            };
            return actions[log.type] || log.action;
        }

        function getLogDetailsText(log) {
            switch (log.type) {
                case LOG_TYPES.LOGIN:
                    return `–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: ${log.details.username} ‚Ä¢ –°—Ç–∞—Ç—É—Å: ${log.details.status === 'success' ? '–£—Å–ø—ñ—à–Ω–æ' : '–ù–µ–≤–¥–∞–ª–æ'}`;
                case LOG_TYPES.CREATE_CASE:
                    return `–°–ø—Ä–∞–≤–∞: ${log.details.caseNumber} ‚Ä¢ ${log.details.caseTitle}`;
                case LOG_TYPES.DELETE_CASE:
                    return `–°–ø—Ä–∞–≤–∞: ${log.details.caseNumber} ‚Ä¢ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ: ${log.details.confirmedBy}`;
                case LOG_TYPES.VIEW_CASE:
                    return `–°–ø—Ä–∞–≤–∞: ${log.details.caseNumber}`;
                case LOG_TYPES.EXPORT_DATA:
                    return `–ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ: ${log.details.recordCount} –∑–∞–ø–∏—Å—ñ–≤`;
                default:
                    return log.details.message || '';
            }
        }

        function getLogTypeText(type) {
            const types = {
                [LOG_TYPES.LOGIN]: '–í–•–Ü–î',
                [LOG_TYPES.LOGOUT]: '–í–ò–•–Ü–î',
                [LOG_TYPES.CREATE_CASE]: '–°–¢–í–û–†–ï–ù–ù–Ø',
                [LOG_TYPES.DELETE_CASE]: '–í–ò–î–ê–õ–ï–ù–ù–Ø',
                [LOG_TYPES.VIEW_CASE]: '–ü–ï–†–ï–ì–õ–Ø–î',
                [LOG_TYPES.EXPORT_DATA]: '–ï–ö–°–ü–û–†–¢',
                [LOG_TYPES.SYSTEM]: '–°–ò–°–¢–ï–ú–ê'
            };
            return types[type] || type;
        }

        function getLogStatusColor(log) {
            if (log.type === LOG_TYPES.DELETE_CASE) return 'danger';
            if (log.type === LOG_TYPES.LOGIN && log.details.status === 'failed') return 'warning';
            if (log.type === LOG_TYPES.CREATE_CASE) return 'success';
            return 'primary';
        }

        function getAgencyName(agency) {
            const agencies = {
                'gunp': '–ì–£–ù–ü',
                'sbu': '–°–ë–£',
                'prosecutor': '–ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞',
                'system': '–°–∏—Å—Ç–µ–º–∞'
            };
            return agencies[agency] || agency;
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤
        function filterLogs(filterType, value) {
            let filteredLogs = SYSTEM_LOGS.logs;

            if (filterType === 'type' && value) {
                filteredLogs = filteredLogs.filter(log => log.type === value);
            } else if (filterType === 'user' && value) {
                filteredLogs = filteredLogs.filter(log => log.username === value);
            } else if (filterType === 'agency' && value) {
                filteredLogs = filteredLogs.filter(log => log.agency === value);
            }

            renderLogs(filteredLogs);
        }

        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        function populateUserFilter() {
            const userFilter = document.getElementById('log-user-filter');
            const uniqueUsers = [...new Set(SYSTEM_LOGS.logs.map(log => log.username))];
            
            userFilter.innerHTML = '<option value="">–í—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</option>' +
                uniqueUsers.map(user => `<option value="${user}">${user}</option>`).join('');
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤
        function exportAllLogs() {
            const csvContent = "data:text/csv;charset=utf-8," 
                + "–î–∞—Ç–∞,–¢–∏–ø,–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á,–í—ñ–¥–æ–º—Å—Ç–≤–æ,–î—ñ—è,–î–µ—Ç–∞–ª—ñ,IP\n"
                + SYSTEM_LOGS.logs.map(log => 
                    `"${new Date(log.timestamp).toLocaleString('uk-UA')}","${getLogTypeText(log.type)}","${log.user}","${getAgencyName(log.agency)}","${log.action}","${getLogDetailsText(log)}","${log.ip}"`
                  ).join("\n");
            
            downloadCSV(csvContent, `system_logs_${new Date().toISOString().split('T')[0]}.csv`);
            showNotification('–ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ –≤—Å—ñ –ª–æ–≥–∏ —Å–∏—Å—Ç–µ–º–∏');
        }

        function downloadCSV(content, filename) {
            const encodedUri = encodeURI(content);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", filename);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.background = type === 'success' ? 'var(--success)' : 'var(--danger)';
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // üîÑ –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò –°–ò–°–¢–ï–ú–´

        function selectAgency(agency) {
            currentAgency = agency;
            const agencyData = getAgencyData(agency);
            
            document.getElementById('modal-agency-name').textContent = agencyData.fullName;
            document.getElementById('modal-agency-desc').textContent = `–í—Ö—ñ–¥ –¥–æ —Å–∏—Å—Ç–µ–º–∏ ${agencyData.name}`;
            document.getElementById('modal-avatar').textContent = agencyData.icon;
            document.getElementById('modal-avatar').style.background = agencyData.color;
            
            document.getElementById('loginUsername').value = '';
            document.getElementById('loginPassword').value = '';
            
            showPasswordsForAgency(agency);
            document.getElementById('loginModal').style.display = 'flex';
        }

        function showPasswordsForAgency(agency) {
            const passwordList = document.getElementById('passwordList');
            const users = USERS[agency];
            
            passwordList.innerHTML = users.map(user => `
                <div class="password-item">
                    <span>${user.username}</span>
                    <span>${user.password}</span>
                </div>
            `).join('');
        }

        function getAgencyData(agency) {
            const agencies = {
                gunp: { name: "–ì–£–ù–ü", fullName: "–ì–æ–ª–æ–≤–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—ó –ø–æ–ª—ñ—Ü—ñ—ó", color: "#1e40af", icon: "üëÆ‚Äç‚ôÇÔ∏è" },
                sbu: { name: "–°–ë–£", fullName: "–°–ª—É–∂–±–∞ –ë–µ–∑–ø–µ–∫–∏ –£–∫—Ä–∞—ó–Ω–∏", color: "#dc2626", icon: "üïµÔ∏è‚Äç‚ôÇÔ∏è" },
                prosecutor: { name: "–ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞", fullName: "–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ –£–∫—Ä–∞—ó–Ω–∏", color: "#7c2d12", icon: "‚öñÔ∏è" },
                admin: { name: "–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å", fullName: "–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–∏—Å—Ç–µ–º–∏", color: "#7e22ce", icon: "üë®‚Äçüíº" }
            };
            return agencies[agency];
        }

        function login() {
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!username || !password) {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!');
                return;
            }
            
            const user = USERS[currentAgency].find(u => 
                u.username === username && u.password === password
            );
            
            if (user) {
                currentUser = user;
                
                logAction(LOG_TYPES.LOGIN, '–£—Å–ø—ñ—à–Ω–∏–π –≤—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É', {
                    username: username,
                    status: 'success',
                    agency: currentAgency
                }, user);
                
                closeLoginModal();
                showAgencyPanel();
                loadCasesForAgency();
                showNotification(`–í—ñ—Ç–∞—î–º–æ, ${user.name}!`, 'success');
            } else {
                logAction(LOG_TYPES.LOGIN, '–ù–µ–≤–¥–∞–ª–∞ —Å–ø—Ä–æ–±–∞ –≤—Ö–æ–¥—É', {
                    username: username,
                    status: 'failed',
                    agency: currentAgency
                });
                
                alert('–ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å! –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ä–æ–ª—ñ –∑—ñ —Å–ø–∏—Å–∫—É –Ω–∏–∂—á–µ.');
            }
        }

        function closeLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
        }

        function togglePassword() {
            const passwordInput = document.getElementById('loginPassword');
            const toggleButton = document.querySelector('.toggle-password');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleButton.textContent = 'üîí';
            } else {
                passwordInput.type = 'password';
                toggleButton.textContent = 'üëÅÔ∏è';
            }
        }

        function toggleProsecutorPassword() {
            const passwordInput = document.getElementById('prosecutorPassword');
            const toggleButtons = document.querySelectorAll('.toggle-password');
            const toggleButton = toggleButtons[toggleButtons.length - 1];
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleButton.textContent = 'üîí';
            } else {
                passwordInput.type = 'password';
                toggleButton.textContent = 'üëÅÔ∏è';
            }
        }

        function showAgencyPanel() {
            document.querySelectorAll('.admin-panel').forEach(panel => {
                panel.style.display = 'none';
            });
            
            document.getElementById(`${currentAgency}-panel`).style.display = 'block';
        }

        function showAdminTab(tabName) {
            // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ –≤—Å—ñ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.admin-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // –í–∏–¥–∞–ª—è—î–º–æ –∞–∫—Ç–∏–≤–Ω–∏–π –∫–ª–∞—Å –∑ —É—Å—ñ—Ö –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—É—î–º–æ –æ–±—Ä–∞–Ω—É –≤–∫–ª–∞–¥–∫—É
            document.getElementById(`admin-${tabName}`).style.display = 'block';
            
            // –î–æ–¥–∞—î–º–æ –∞–∫—Ç–∏–≤–Ω–∏–π –∫–ª–∞—Å –¥–æ –ø–æ—Ç–æ—á–Ω–æ—ó –∫–Ω–æ–ø–∫–∏
            event.target.classList.add('active');

            // –Ø–∫—â–æ —Ü–µ –≤–∫–ª–∞–¥–∫–∞ –ª–æ–≥—ñ–≤ - –æ–Ω–æ–≤–ª—é—î–º–æ –ª–æ–≥–∏
            if (tabName === 'logs') {
                renderLogs();
            }
        }

        function logout() {
            if (currentUser) {
                logAction(LOG_TYPES.LOGOUT, '–í–∏—Ö—ñ–¥ –∑ —Å–∏—Å—Ç–µ–º–∏', {}, currentUser);
            }
            currentAgency = null;
            currentUser = null;
            document.querySelectorAll('.admin-panel').forEach(panel => {
                panel.style.display = 'none';
            });
            showNotification('–î–æ –ø–æ–±–∞—á–µ–Ω–Ω—è!');
        }

        // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Å–ø—Ä–∞–≤–∞–º–∏
        function showAddCaseModal() {
            document.getElementById('addCaseModal').style.display = 'flex';
            document.getElementById('caseTitle').value = '';
            document.getElementById('caseDescription').value = '';
            document.getElementById('caseNumber').value = '';
            document.getElementById('caseCategory').value = 'criminal';
            document.getElementById('casePriority').value = 'medium';
        }

        function closeAddCaseModal() {
            document.getElementById('addCaseModal').style.display = 'none';
        }

        function addNewCase() {
            const title = document.getElementById('caseTitle').value;
            const description = document.getElementById('caseDescription').value;
            const number = document.getElementById('caseNumber').value;
            const category = document.getElementById('caseCategory').value;
            const priority = document.getElementById('casePriority').value;
            
            if (!title || !number) {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –æ–±–æ–≤\'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è: –ù–∞–∑–≤–∞ —Ç–∞ –ù–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∏!');
                return;
            }
            
            const newCase = {
                id: Date.now(),
                number: number,
                title: title,
                description: description,
                category: category,
                priority: priority,
                status: 'new',
                createdDate: new Date().toLocaleDateString('uk-UA'),
                createdBy: currentUser.name,
                responsible: currentUser.name,
                agency: currentAgency
            };
            
            CASES_DATABASE[currentAgency].push(newCase);
            updateStatistics();
            loadCasesForAgency();
            closeAddCaseModal();
            
            logAction(LOG_TYPES.CREATE_CASE, '–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó —Å–ø—Ä–∞–≤–∏', {
                caseNumber: number,
                caseTitle: title,
                category: category,
                priority: priority
            }, currentUser);
            
            showNotification(`–°–ø—Ä–∞–≤–∞ "${title}" —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∞!`, 'success');
        }

        function loadCasesForAgency() {
            if (!currentAgency || currentAgency === 'admin') return;
            
            const cases = CASES_DATABASE[currentAgency];
            const tableBody = document.getElementById(`${currentAgency}-cases-table`);
            
            tableBody.innerHTML = cases.map(caseItem => `
                <tr>
                    <td>${caseItem.number}</td>
                    <td>${caseItem.title}</td>
                    <td><span class="badge case-status-${caseItem.status}">${getStatusText(caseItem.status)}</span></td>
                    <td>${caseItem.createdDate}</td>
                    <td>${caseItem.responsible}</td>
                    <td class="case-actions">
                        <button class="btn btn-primary" onclick="viewCase(${caseItem.id})">üëÅÔ∏è –ü–µ—Ä–µ–≥–ª—è–¥</button>
                        ${currentAgency === 'prosecutor' ? 
                          `<button class="btn btn-danger" onclick="requestCaseDeletion(${caseItem.id})">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>` : 
                          `<button class="btn" disabled title="–¢—ñ–ª—å–∫–∏ –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ –º–æ–∂–µ –≤–∏–¥–∞–ª—è—Ç–∏ —Å–ø—Ä–∞–≤–∏">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>`
                        }
                    </td>
                </tr>
            `).join('');
            
            updateStatistics();
        }

        function getStatusText(status) {
            const statuses = {
                'new': '–ù–æ–≤–∞',
                'in-progress': '–í —Ä–æ–±–æ—Ç—ñ',
                'completed': '–ó–∞–≤–µ—Ä—à–µ–Ω–∞',
                'closed': '–ó–∞–∫—Ä–∏—Ç–∞'
            };
            return statuses[status] || status;
        }

        function updateStatistics() {
            if (!currentAgency) return;
            
            const cases = CASES_DATABASE[currentAgency];
            const totalCases = cases.length;
            const activeCases = cases.filter(c => c.status === 'new' || c.status === 'in-progress').length;
            const criticalCases = cases.filter(c => c.priority === 'critical').length;
            
            document.getElementById(`${currentAgency}-total-cases`).textContent = totalCases;
            document.getElementById(`${currentAgency}-active-cases`).textContent = activeCases;
            document.getElementById(`${currentAgency}-critical-cases`).textContent = criticalCases;
        }

        function viewCase(caseId) {
            const caseItem = CASES_DATABASE[currentAgency].find(c => c.id === caseId);
            if (caseItem) {
                logAction(LOG_TYPES.VIEW_CASE, '–ü–µ—Ä–µ–≥–ª—è–¥ —Å–ø—Ä–∞–≤–∏', {
                    caseNumber: caseItem.number,
                    caseTitle: caseItem.title
                }, currentUser);
                
                alert(`–ü–µ—Ä–µ–≥–ª—è–¥ —Å–ø—Ä–∞–≤–∏:\n\n–ù–æ–º–µ—Ä: ${caseItem.number}\n–ù–∞–∑–≤–∞: ${caseItem.title}\n–û–ø–∏—Å: ${caseItem.description}\n–°—Ç–∞—Ç—É—Å: ${getStatusText(caseItem.status)}\n–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: ${caseItem.priority}\n–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π: ${caseItem.responsible}`);
            }
        }

        function requestCaseDeletion(caseId) {
            if (currentAgency !== 'prosecutor') {
                alert('–ü–æ–º–∏–ª–∫–∞ –¥–æ—Å—Ç—É–ø—É! –¢—ñ–ª—å–∫–∏ –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ –º–æ–∂–µ –≤–∏–¥–∞–ª—è—Ç–∏ —Å–ø—Ä–∞–≤–∏.');
                return;
            }
            
            const caseItem = CASES_DATABASE[currentAgency].find(c => c.id === caseId);
            if (!caseItem) return;
            
            caseToDelete = caseId;
            
            document.getElementById('caseToDeleteInfo').innerHTML = `
                <h4>üìã –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Å–ø—Ä–∞–≤—É:</h4>
                <p><strong>–ù–æ–º–µ—Ä:</strong> ${caseItem.number}</p>
                <p><strong>–ù–∞–∑–≤–∞:</strong> ${caseItem.title}</p>
                <p><strong>–°—Ç–≤–æ—Ä–µ–Ω–∞:</strong> ${caseItem.createdDate}</p>
                <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π:</strong> ${caseItem.responsible}</p>
            `;
            
            document.getElementById('prosecutorUsername').value = '';
            document.getElementById('prosecutorPassword').value = '';
            
            document.getElementById('prosecutorConfirmModal').style.display = 'flex';
        }

        function closeProsecutorConfirmModal() {
            document.getElementById('prosecutorConfirmModal').style.display = 'none';
            caseToDelete = null;
        }

        function confirmCaseDeletion() {
            const username = document.getElementById('prosecutorUsername').value;
            const password = document.getElementById('prosecutorPassword').value;
            
            if (!username || !password) {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –ª–æ–≥—ñ–Ω —Ç–∞ –ø–∞—Ä–æ–ª—å –ø—Ä–æ–∫—É—Ä–æ—Ä–∞ –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è!');
                return;
            }
            
            const prosecutor = USERS.prosecutor.find(u => 
                u.username === username && u.password === password
            );
            
            if (!prosecutor) {
                alert('–ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å –ø—Ä–æ–∫—É—Ä–æ—Ä–∞! –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å–∫–∞—Å–æ–≤–∞–Ω–æ.');
                return;
            }
            
            const caseItem = CASES_DATABASE[currentAgency].find(c => c.id === caseToDelete);
            CASES_DATABASE[currentAgency] = CASES_DATABASE[currentAgency].filter(c => c.id !== caseToDelete);
            loadCasesForAgency();
            closeProsecutorConfirmModal();
            
            logAction(LOG_TYPES.DELETE_CASE, '–í–∏–¥–∞–ª–µ–Ω–Ω—è —Å–ø—Ä–∞–≤–∏', {
                caseNumber: caseItem.number,
                caseTitle: caseItem.title,
                confirmedBy: prosecutor.name
            }, currentUser);
            
            showNotification(`–°–ø—Ä–∞–≤—É —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ!\n–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ –ø—Ä–æ–∫—É—Ä–æ—Ä–æ–º: ${prosecutor.name}`);
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
        function initializeTestData() {
            CASES_DATABASE.gunp.push({
                id: 1,
                number: "210/2024",
                title: "–†–æ–∑–∫—Ä–∞–¥–∞–Ω–Ω—è –∫–æ—à—Ç—ñ–≤ –±—é–¥–∂–µ—Ç—É",
                description: "–°–ø—Ä–∞–≤–∞ –ø—Ä–æ —Ä–æ–∑–∫—Ä–∞–¥–∞–Ω–Ω—è –∫–æ—à—Ç—ñ–≤ –º—ñ—Å—Ü–µ–≤–æ–≥–æ –±—é–¥–∂–µ—Ç—É",
                category: "criminal",
                priority: "high",
                status: "in-progress",
                createdDate: "15.01.2024",
                createdBy: "–ö–æ–≤–∞–ª–µ–Ω–∫–æ –Ü.–ü.",
                responsible: "–ü–µ—Ç—Ä–µ–Ω–∫–æ –û.–í.",
                agency: "gunp"
            });

            CASES_DATABASE.sbu.push({
                id: 2,
                number: "–°–ë–£-45/2024",
                title: "–ö–æ–Ω—Ç—Ä—Ä–æ–∑–≤—ñ–¥—É–≤–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è",
                description: "–û–ø–µ—Ä–∞—Ü—ñ—è –∑ –≤–∏—è–≤–ª–µ–Ω–Ω—è —ñ–Ω–æ–∑–µ–º–Ω–∏—Ö –∞–≥–µ–Ω—Ç—ñ–≤",
                category: "operational",
                priority: "critical",
                status: "in-progress",
                createdDate: "14.01.2024",
                createdBy: "–ú–µ–ª—å–Ω–∏–∫ –ê.–í.",
                responsible: "–ö–æ–≤–∞–ª—å—á—É–∫ –°.–ú.",
                agency: "sbu"
            });

            CASES_DATABASE.prosecutor.push({
                id: 3,
                number: "–ü-789/2024",
                title: "–ù–∞–≥–ª—è–¥ –∑–∞ —Ä–æ–∑—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è–º",
                description: "–ù–∞–≥–ª—è–¥ –∑–∞ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è–º –∑–∞–∫–æ–Ω—É –ø—Ä–∏ —Ä–æ–∑—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—ñ",
                category: "supervision",
                priority: "medium",
                status: "new",
                createdDate: "16.01.2024",
                createdBy: "–í—ñ—Å–∫–∞—Ä –ú.–ú.",
                responsible: "–ö—É–ª–µ–±—è–∫–∞ –ê.–ê.",
                agency: "prosecutor"
            });

            updateStatistics();
        }

        function initializeLoggingSystem() {
            loadLogsFromStorage();
            logAction(LOG_TYPES.SYSTEM, '–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞', {
                version: '2.4.1',
                userAgent: navigator.userAgent
            });
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
        window.onload = function() {
            initializeTestData();
            initializeLoggingSystem();
            console.log('üõ°Ô∏è –Ñ–†–î–† PRO System Initialized');
            console.log('24 unique passwords + logging system loaded');
        };

        // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–ª–∞–≤—ñ—à—ñ Enter
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && document.getElementById('loginModal').style.display === 'flex') {
                login();
            }
        });
    </script>
</body>
</html>
